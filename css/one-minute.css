/* ---------- 浮動送出列 ---------- */
.dock{
  position:fixed;
  left:0; right:0;
  bottom:max(16px, env(safe-area-inset-bottom));         /* iOS 安全區 */
  padding-bottom:env(safe-area-inset-bottom);
  z-index:20;
  display:flex; justify-content:center;
  pointer-events:none;
}
.dock-inner{
  pointer-events:auto;
  background:#ffffffd9; backdrop-filter: blur(8px);
  border:1px solid #e5effa; border-radius:14px; box-shadow:var(--shadow);
  padding:10px; width:min(920px, calc(100% - 24px));
  display:flex; align-items:center; justify-content:space-between; gap:10px;
}
.dock small{ color:var(--muted); }

/* ---------- 手機修正（≤480px） ---------- */
@media (max-width:480px){
  /* ✅ 用不可見 spacer 撐出底部空間，避免 Dock 蓋住內容 */
  body::after{
    content:"";
    display:block;
    height: max(120px, calc(104px + env(safe-area-inset-bottom)));
    /* 120~約 140px：依你的 Dock 高度可微調；104px 是 Dock 內部 + 外距的估值 */
  }

  /* 浮動列改為「上下兩層」：上層標題/課程資訊，下層狀態 + 三顆按鈕 */
  .dock-inner{
    width: calc(100% - 12px);      /* 更貼邊，預留 6px 內距 */
    padding: 8px;
    border-radius:12px;
    flex-direction: column;        /* 直向堆疊 */
    align-items: stretch;
    gap: 8px;
  }

  /* 標題區：避免文字換行造成擠壓 */
  #dock-meta{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

  /* 按鈕列：左右分佈，左邊狀態、右邊三顆按鈕；不換行 */
  .dock-inner .toolbar{
    flex-wrap: nowrap;
    justify-content: space-between;
    align-items: center;
    gap: 6px;
    width: 100%;
  }

  /* 狀態訊息占可伸縮寬度，過長以…截斷 */
  #dock-status{
    flex: 1 1 auto;
    min-width: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-size: 12px;
  }

  /* 三顆按鈕固定寬度，不被擠壓換行 */
  #dock-back, #dock-reset, #dock-submit{ flex: 0 0 auto; }

  /* 手機上縮小一點按鈕 padding 與字級 */
  .btn{ padding:8px 12px; font-size:14px; }
  .page-hero h1{ font-size:18px; }

  /* 其他行動友善設定 */
  .scale .opt{ flex:1; }
  .nps-row .opt{ flex:0 0 calc(10% - 8px); }
}
