/* --- 讓有 .dock 的頁面都預留底部空間（桌機 & 手機通用） --- */
.has-dock::after,
body:has(.dock)::after{
  content:"";
  display:block;
  height: 88px; /* 桌機預留高度：依你的 dock 實際高度可微調 72~96px */
}

/* ---------- 浮動送出列（原設定） ---------- */
.dock{
  position:fixed;
  left:0; right:0;
  bottom:max(16px, env(safe-area-inset-bottom));
  padding-bottom:env(safe-area-inset-bottom);
  z-index:20;
  display:flex; justify-content:center;
  pointer-events:none;
}
.dock-inner{
  pointer-events:auto;
  background:#ffffffd9; backdrop-filter: blur(8px);
  border:1px solid #e5effa; border-radius:14px; box-shadow:var(--shadow);
  padding:10px; width:min(920px, calc(100% - 24px));
  display:flex; align-items:center; justify-content:space-between; gap:10px;
}
.dock small{ color:var(--muted); }

/* ---------- 手機修正（≤480px） ---------- */
@media (max-width:480px){
  /* 手機用更高的 spacer（含 safe area） */
  .has-dock::after,
  body:has(.dock)::after{
    height: max(120px, calc(104px + env(safe-area-inset-bottom)));
  }

  .dock-inner{
    width: calc(100% - 12px);
    padding: 8px;
    border-radius:12px;
    flex-direction: column;
    align-items: stretch;
    gap: 8px;
  }
  #dock-meta{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

  .dock-inner .toolbar{
    flex-wrap: nowrap;
    justify-content: space-between;
    align-items: center;
    gap: 6px;
    width: 100%;
  }
  #dock-status{
    flex: 1 1 auto; min-width: 0;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    font-size: 12px;
  }
  #dock-back, #dock-reset, #dock-submit{ flex: 0 0 auto; }
  .btn{ padding:8px 12px; font-size:14px; }
}
/* 若你的欄位是 <fieldset class="card"> 或 .group */
fieldset.card,
fieldset.group{
  border: 0 !important;
  padding: 0;
}
/* 只影響有進度條那張卡片 */
.card.flow-sm > .progress { margin-top: 16px; }
.state-result .state-icon{
  width: 40px;
  height: 40px;
  object-fit: contain;    /* 防止變形，保留原比例 */
  display: block;
  border-radius: 6px;     /* 需要圓角就留著，不要就移除 */
}
